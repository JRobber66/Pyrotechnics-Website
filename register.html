
<!DOCTYPE html>
<html>
<head><title>Register</title></head>
<body>
  <h2>Register</h2>
  <input placeholder="Username" id="user"><br>
  <input placeholder="Password" id="pass" type="password"><br>
  <input placeholder="Master Key" id="key"><br>
  <button onclick="register()">Register</button>
  <p><a href="login.html">Already have an account? Login</a></p>

  <script>
    const backend = "https://backend-test-je8a.onrender.com";
    const ip = Math.random().toString(36).substring(7); // Simulated IP

    function register() {
      fetch(backend + '/register', {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({
          username: document.getElementById('user').value,
          password: document.getElementById('pass').value,
          masterKey: document.getElementById('key').value,
          ip
        })
      }).then(r => r.json()).then(data => {
        if (data.success) {
          alert("Registered! Please login.");
          window.location.href = "login.html";
        } else {
          alert(data.error);
        }
      });
    }
  </script>
</body>
</html>
